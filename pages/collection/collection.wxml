<view class="container">
  <view class="sticky-header">
    <view class="search-box">
      <icon type="search" size="16" color="#8E8E93"/>
      <input class="search-input" 
             placeholder="搜索装备" 
             placeholder-class="placeholder"
             bindinput="onSearchInput" 
             value="{{searchKeyword}}" />
    </view>
    <view class="filter-btn {{showFilterPanel ? 'active' : ''}}" bindtap="toggleFilterPanel">
      <text>筛选</text>
    </view>
  </view>

  <view class="filter-panel animate-enter" wx:if="{{showFilterPanel}}">
    <view class="filter-tags">
      <view 
        class="tag {{currentTypeFilter === item.key ? 'active' : ''}}" 
        wx:for="{{filterCategories}}" 
        wx:key="key"
        bindtap="setTypeFilter" 
        data-type="{{item.key}}">
        {{item.label}}
      </view>
    </view>
  </view>

  <view class="collection-grid" wx:if="{{displayList.length > 0}}">
    <view class="grid-item animate-enter" 
          wx:for="{{displayList}}" 
          wx:key="id"
          style="animation-delay: {{index * 0.05}}s"
          bindtap="onEquipmentTap" 
          data-id="{{item.id}}"
          data-name="{{item.name}}">
      
      <view class="item-card {{item.isActivated ? 'owned' : ''}}">
        <image class="item-img" src="{{item.icon}}" mode="aspectFit" lazy-load />
        <view class="item-status" wx:if="{{item.isActivated}}">
          <icon type="success_no_circle" size="12" color="#000"/>
        </view>
      </view>
      <text class="item-name">{{item.name}}</text>
    </view>
  </view>

  <view class="empty-state" wx:else>
    <text>未找到相关装备</text>
  </view>
</view>